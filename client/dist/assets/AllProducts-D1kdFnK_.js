import{r as c,u as f,j as r,F as j,V as y}from"./index-DFyuifyJ.js";import{a as v}from"./productService-DI1icBLi.js";import{P as N}from"./ProductCard-Bq-HLFFa.js";import"./Button-DN5n5fSN.js";const F=()=>{const[t,d]=c.useState(""),[o,u]=c.useState(""),[n,m]=c.useState("newest"),{data:a,isLoading:g,error:i}=f({queryKey:["products"],queryFn:v,retry:1,onError:e=>{console.error("Query error:",e),y.error(e.message||"Error loading products")}});if(g)return r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(i)return r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading Products"}),r.jsx("p",{className:"text-gray-600 mb-4",children:i.message}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})});const l=[...((a==null?void 0:a.products)||[]).filter(e=>{if(!e)return!1;const s=e.name||"",h=e.description||"",x=e.category||"";return(s.toLowerCase().includes(t.toLowerCase())||h.toLowerCase().includes(t.toLowerCase()))&&(!o||x===o)})].sort((e,s)=>{switch(n){case"price-low":return e.price-s.price;case"price-high":return s.price-e.price;case"name":return e.name.localeCompare(s.name);case"newest":default:return new Date(s.createdAt)-new Date(e.createdAt)}}),p=["CISCO Switch","Server","Monitors","Logitech World","Bags","Charger"];return r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"All Products"}),r.jsxs("div",{className:"mb-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(j,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search products...",value:t,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#39b54a]"})]}),r.jsxs("select",{value:o,onChange:e=>u(e.target.value),className:"border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#39b54a]",children:[r.jsx("option",{value:"",children:"All Categories"}),p.map(e=>r.jsx("option",{value:e,children:e},e))]}),r.jsxs("select",{value:n,onChange:e=>m(e.target.value),className:"border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#39b54a]",children:[r.jsx("option",{value:"newest",children:"Newest First"}),r.jsx("option",{value:"price-low",children:"Price: Low to High"}),r.jsx("option",{value:"price-high",children:"Price: High to Low"}),r.jsx("option",{value:"name",children:"Name: A to Z"})]})]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-6",children:l.map(e=>r.jsx(N,{product:e},e._id))}),l.length===0&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"No products found matching your criteria."})})]})};export{F as default};
