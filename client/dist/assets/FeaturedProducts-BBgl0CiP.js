import{f as d,z as N,r as o,u as w,j as e,L as i,V as c}from"./index-DFyuifyJ.js";import{u as m}from"./useMutation-C0jg7rW6.js";import{u as k,d as _,g as z}from"./featuredProductService-CWJSp5U4.js";import{E as F}from"./eye-off-YblUo0XC.js";import{E as P}from"./eye-DhudPpVJ.js";import{P as x}from"./plus-eOj1peSO.js";import{S as D}from"./star-DahzeS3x.js";import{T as M}from"./trash-2-Bwrh7WsY.js";/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],E=d("arrow-down",S);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],C=d("arrow-up",A);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],O=d("calendar",L);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],I=d("link",q);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Q=d("pencil",$),X=()=>{const n=N(),[T,V]=o.useState(null),[r,u]=o.useState(!1),{data:s,isLoading:h,error:g}=w({queryKey:["featuredProducts",r],queryFn:()=>z(r)}),f=m({mutationFn:_,onSuccess:()=>{n.invalidateQueries(["featuredProducts"]),c.success("Featured product deleted successfully")},onError:t=>{c.error(t.message||"Failed to delete featured product")}}),y=m({mutationFn:({id:t,order:a})=>k(t,a),onSuccess:()=>{n.invalidateQueries(["featuredProducts"])}}),j=async t=>{if(window.confirm("Are you sure you want to delete this featured product?"))try{await f.mutateAsync(t)}catch(a){console.error("Error deleting featured product:",a)}},l=async(t,a,b)=>{const p=b==="up"?a-1:a+1;try{await y.mutateAsync({id:t,order:p})}catch(v){console.error("Error updating order:",v)}};return h?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):g?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-red-500",children:"Error loading featured products"})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Featured Products"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage products featured on your homepage"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>u(!r),className:"flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200",children:[r?e.jsx(F,{size:20,className:"mr-2"}):e.jsx(P,{size:20,className:"mr-2"}),r?"Hide Inactive":"Show Inactive"]}),e.jsxs(i,{to:"/admin/featured-products/new",className:"flex items-center px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(x,{size:20,className:"mr-2"}),"Add Featured Product"]})]})]}),(s==null?void 0:s.length)===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[e.jsx(D,{size:48,className:"mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Featured Products"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Start by adding your first featured product"}),e.jsxs(i,{to:"/admin/featured-products/new",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-200",children:[e.jsx(x,{size:18,className:"mr-2"}),"Add Featured Product"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s==null?void 0:s.map(t=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.featuredImage||t.image,alt:t.featuredTitle||t.name,className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${t.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.isActive?"Active":"Inactive"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-1",children:t.featuredTitle||t.name}),e.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:t.featuredDescription||t.description}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[e.jsx(O,{size:16,className:"mr-1.5"}),e.jsxs("span",{children:[t.startDate?new Date(t.startDate).toLocaleDateString():"No start date"," -",t.endDate?new Date(t.endDate).toLocaleDateString():"No end date"]})]}),t.link&&e.jsxs("div",{className:"flex items-center text-sm text-blue-600 mb-4",children:[e.jsx(I,{size:16,className:"mr-1.5"}),e.jsx("span",{className:"truncate",children:t.link})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>l(t._id,t.featuredOrder,"up"),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors duration-200",disabled:t.featuredOrder===0,children:e.jsx(C,{size:18})}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Order: ",t.featuredOrder]}),e.jsx("button",{onClick:()=>l(t._id,t.featuredOrder,"down"),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors duration-200",children:e.jsx(E,{size:18})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(i,{to:`/admin/featured-products/${t._id}/edit`,className:"p-1.5 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors duration-200",title:"Edit",children:e.jsx(Q,{size:18})}),e.jsx("button",{onClick:()=>j(t._id),className:"p-1.5 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors duration-200",title:"Delete",children:e.jsx(M,{size:18})})]})]})]})]},t._id))})]})};export{X as default};
